import{A as w}from"../chunks/config.c4e28fd4.js";import{S as I,i as M,s as q,k as d,y as R,a as y,l as $,m as b,z as j,c as v,h as m,b as p,A as x,C as k,g as u,d as _,B as E,q as z,e as C,r as B,n as S,v as F,f as N,a2 as O,D as T}from"../chunks/index.78e4d4d0.js";import{C as D}from"../chunks/CompanyCard.275e1a09.js";import{P as H}from"../chunks/PersonCard.58d8ce11.js";async function L({fetch:f,params:a}){const l=await(await f(w+"company/"+a.companyId)).json(),n=await(await f(w+"tag/all-for-select")).json();return{company:l,tags:n}}const X=Object.freeze(Object.defineProperty({__proto__:null,load:L},Symbol.toStringTag,{value:"Module"}));function P(f,a,s){const l=f.slice();return l[5]=a[s],l}function U(f){let a,s,l,c,n,o=f[2],e=[];for(let t=0;t<o.length;t+=1)e[t]=A(P(f,o,t));const h=t=>_(e[t],1,1,()=>{e[t]=null});return{c(){a=d("h2"),s=z("Funcionários:"),l=y();for(let t=0;t<e.length;t+=1)e[t].c();c=C(),this.h()},l(t){a=$(t,"H2",{class:!0});var i=b(a);s=B(i,"Funcionários:"),i.forEach(m),l=v(t);for(let r=0;r<e.length;r+=1)e[r].l(t);c=C(),this.h()},h(){S(a,"class","text-lg font-medium text-gray-900 mb-2 mx-4")},m(t,i){p(t,a,i),k(a,s),p(t,l,i);for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(t,i);p(t,c,i),n=!0},p(t,i){if(i&4){o=t[2];let r;for(r=0;r<o.length;r+=1){const g=P(t,o,r);e[r]?(e[r].p(g,i),u(e[r],1)):(e[r]=A(g),e[r].c(),u(e[r],1),e[r].m(c.parentNode,c))}for(F(),r=o.length;r<e.length;r+=1)h(r);N()}},i(t){if(!n){for(let i=0;i<o.length;i+=1)u(e[i]);n=!0}},o(t){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)_(e[i]);n=!1},d(t){t&&m(a),t&&m(l),O(e,t),t&&m(c)}}}function A(f){let a,s,l,c;return s=new H({props:{person:f[5],noEdit:!0}}),{c(){a=d("a"),R(s.$$.fragment),l=y(),this.h()},l(n){a=$(n,"A",{href:!0});var o=b(a);j(s.$$.fragment,o),l=v(o),o.forEach(m),this.h()},h(){S(a,"href","/person/"+f[5]._id)},m(n,o){p(n,a,o),x(s,a,null),k(a,l),c=!0},p:T,i(n){c||(u(s.$$.fragment,n),c=!0)},o(n){_(s.$$.fragment,n),c=!1},d(n){n&&m(a),E(s)}}}function G(f){let a,s,l,c;s=new D({props:{company:f[0]}});let n=f[1].length>0&&U(f);return{c(){a=d("main"),R(s.$$.fragment),l=y(),n&&n.c()},l(o){a=$(o,"MAIN",{});var e=b(a);j(s.$$.fragment,e),l=v(e),n&&n.l(e),e.forEach(m)},m(o,e){p(o,a,e),x(s,a,null),k(a,l),n&&n.m(a,null),c=!0},p(o,[e]){o[1].length>0&&n.p(o,e)},i(o){c||(u(s.$$.fragment,o),u(n),c=!0)},o(o){_(s.$$.fragment,o),_(n),c=!1},d(o){o&&m(a),E(s),n&&n.d()}}}function J(f,a,s){var h;let{data:l}=a;const{company:c,tags:n}=l,o=c.employees||[],e=[];for(const t of o){const i=(h=t.tags)==null?void 0:h.flatMap(r=>n.filter(g=>g.value===r));e.push({...t,tags:i,company:c})}return f.$$set=t=>{"data"in t&&s(3,l=t.data)},[c,o,e,l]}class Y extends I{constructor(a){super(),M(this,a,J,G,q,{data:3})}}export{Y as component,X as universal};
